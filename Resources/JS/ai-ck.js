var aiwamp=function(e){try{var t=e}catch(n){console.log("AIWamp Behavior E: ",n);var t="profit"}AIs={profit:{},transaction:{}};AIs.profit.params={card:null,rolls:0,chance:5,threshold:1,window:3};AIs.profit.methods={test:function(){alert("I'm a profit  AI!")},onCard:function(e,t,n){console.log("CARD",t);self.params.card=t;self.params.offer.price=self.params.card.reserve+~~(Math.random()*self.params.window+1)*self.params.direction;self.sess.call("pit.rpc.offer",[],{id:self.sess.id,offer:self.params.offer}).then(function(){console.log("MADE OFFER")})},onTick:function(e,t,n){function r(){console.log("AI ROLLING",self.params);return~~(Math.random()*self.params.chance)<=self.params.threshold}function i(){console.log("Attempting to find acceptable offer");var e=self.params.card.role==seller?self.params.offers.buyer.sort(function(e,t){return e.price+t.price})[0]:self.params.offers.seller.sort(function(e,t){return e.price+t.price})[0];if(self.params.compare(offer.price,self.params.card.reserve)){console.log("Attempting to accept offer",e);self.sess.call("pit.rpc.accept",[],{id:self.sess.id,offer:e}).then(function(e){},function(e){console.log("Error: ",e)})}}curScreen==0||curScreen==2||curScreen==4?$(".idletime").html(t.until_round.minutes+":"+t.until_round.seconds):curScreen==3&&$("#time").html(t.end_of_phase.minutes+":"+t.end_of_phase.seconds);var s=r();console.log("r: ",s);s&&i();self.params.threshold=self.params.threshold>=chance-1?1:self.params.threshold+1},onOffer:function(e,t,n){self.params.offers=t},onPhase:function(e,t,n){console.log("OnPhase: ",t);var r={enter:{},exit:{}};r.enter.Signin=function(){console.log("Sign In Attempt");self.sess.call("pit.rpc.signin",[],{id:self.sess.id,player:{role:role,position:position,id:self.sess.id,meat:!0,name:"AI"+String(position)}}).then(function(e){console.log("SIGNED IN",e);self.params.foo="bar";self.params.direction=role=="seller"?1:-1;self.params.compare=role=="seller"?function(e,t){return e>reserve}:function(e,t){return e<reserve};self.sess.call("pit.rpc.offerTemplate").then(function(e){console.log("Got Offer Template",e);self.params.offer=e})});self.sess.call("pit.rpc.offerTemplate").then(function(e){self.params.offer=e})};r.enter.Setup=function(){if(name!="null"){curScreen=5;changeScreen()}};r[t.action][t.name]&&console.log("calling phase function",r[t.action][t.name]);r[t.action][t.name]()},onAccept:function(e,t,n){}};this.wampMethods=AIs[t].methods;this.wamp=new WAMP(this);this.wamp.params=AIs[t].params};