function WAMP(e){var t;this.clientType=e;this.prototype=e.wampMethods;self=this;try{var n=require("autobahn")}catch(r){}var i,s=new n.Connection({url:"ws://capricorn.or.gs:8080/ws",realm:"tradingpit"});s.onopen=function(e){i=e;var n=null;i.call("pit.rpc.signin",[],{name:"QT",position:0,role:"buyer",id:i.id,meat:"true"}).then(function(e){i.subscribe(e.cardURI,self.prototype.onCard);t=e.shape;$(".my-logoDiv").load("shapes.html  #"+t)});e.subscribe("pit.pub.offers",self.prototype.onOffer).then(function(e){n=e},function(e){});e.subscribe("pit.pub.clock",self.prototype.onTick).then(function(e){n=e},function(e){})};s.open()}var aiwamp=function(){this.wampMethods={test:function(){alert("I'm an AI!")},onCard:function(e,t,n){$(".value").html(t.reserve)},onTick:function(e,t,n){$("#time").html(t.minutes+":"+t.seconds);console.log("tick")},onOffer:function(e,t,n){$.get("offer_template.html",function(e){Mustache.parse(e);var n=Mustache.render(e,t);$(".flex-offers").html(n)})}};this.wamp=new WAMP(this)},playerwamp=function(){this.wampMethods={test:function(){alert("I'm a Player!")},onCard:function(e,t,n){$(".value").html(t.reserve)},onTick:function(e,t,n){$("#time").html(t.minutes+":"+t.seconds);console.log("tick")},onOffer:function(e,t,n){$.get("offer_template.html",function(e){Mustache.parse(e);var n=Mustache.render(e,t);$(".flex-offers").html(n)})}};this.wamp=new WAMP(this)};ai?w=new aiwamp:w=new playerwamp;